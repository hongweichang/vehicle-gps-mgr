<!-- <link type="text/css" href="css/statistic.css"  media="screen" rel="stylesheet" /> -->

<div class="statistic_vehicle_bodydiv statistic_font">
	<div class="statistic_vehicle_div statistic_font">
		<div class="statistic_begin_time">查询开始时间:</div>
		<div class="statistic_vehicle_input">
			<input type="text" name="vehicle_begin_data" id="vehicle_begin_data" class="statistic_input" />
		</div>
		<div class="statistic_end_time"> 查询结束时间: </div>
		<div class="statistic_vehicle_input">
			<input type="text" name="vehicle_end_data" id="vehicle_end_data" class="statistic_input" />
		</div>
		
		<div class="statistic_select_vehicle" id="vehicle_sel">
		    <input type="button"  onclick="select_vehicle_data();" value="选择要查询的车辆"  />
		</div>	
		
		<div class="statistic_select_vehicle">
			<input type="button" value="查询" onclick="condition_vehicle_data()" />		
		</div>
			
	</div>
	<table id="vehicle_statistic_table" class="statistic_font"></table>
	<div id="vehicle_statistic_div" class="statistic_font"></div>
</div>

<input type="hidden" value="{{VEHICLE_ID}}" id="vehicle_id_value" name="vehicle_id_value" />
<script type="text/javascript">

//判断查询按钮是否隐藏
//因为在加载页面时产生{{VEHICLE_ID}}所以不能写在js中
var array_id=""; 
if({{VEHICLE_ID}}!="-1"){
	document.getElementById('vehicle_sel').style.display="none";
}

//查询动作触发事件
//因为在加载页面时产生{{VEHICLE_ID}}所以不能写在js中
function condition_vehicle_data() {
	if("{{VEHICLE_ID}}"!="-1"){
	   array_id="{{VEHICLE_ID}}";	    		 
	}

	var begin_date = $("#vehicle_begin_data").val();
	var end_date = $("#vehicle_end_data").val();
	if(end_date<=begin_date){
		alert("结束时间不能小于等于开始时间");
		return false;
	}
	
    $("#vehicle_statistic_table").jqGrid().setGridParam({url : "index.php?a=409&begin_data="+begin_date
	+"&end_data="+end_date+"&select_vehicle="+array_id,page:1}).trigger("reloadGrid");		
}
</script>
<script src="js/statistic/vehicle.js" type="text/javascript"></script>